<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

         <!-- Bootstrap CSS CDN -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

       <link rel="stylesheet" href="style.css">


    </head>
    <body>

        <div class="wrapper">
            <!-- Sidebar Holder -->
            <nav id="sidebar">
                <div class="sidebar-header">
                    <h3>Scott Archer</h3>
                </div>
                <div class="container">
                <div class="option-box">

                <input id="show-locations" type="button" value="Show Locations">
                <input id="hide-locations" type="button" value="Hide Listings">


                <ul class="list-unstyled components">
                    <p>Places I've Worked and Lived</p>
              <!--      <li class="active">
                        <a href="#">Places I've Lived</a>
                            <ul class="collapse list-unstyled" id="homeSubmenu">
                            <li><a href="#">Home1</a></li>
                            <li><a href="#">Home2</a></li>
                            <li><a href="#">Home3</a></li>
                        </ul>
                    </li> -->
                    <li>
                        <a href="#">Places I've Worked</a>


                    <!--    <ul class="collapse list-unstyled" id="pageSubmenu">
                            <li><a href="#">Location 1</a></li>
                            <li><a href="#">Location 2</a></li>
                            <li><a href="#">Location 3</a></li>
                        </ul>
                    </li> -->
                    <li>
                        <a href="#">Places I've Lived</a>
                    </li>
                    <li>
                        <a href="#">Contact</a>
                    </li>
                </ul>
            </nav>



            <!-- Page Content Holder --->
            <div id="content">
              <script>                    //Loads google maps location//
                var map;
                var markers = [];

                  function initMap() {
                    map = new google.maps.Map(document.getElementById('map'), {
                      center: {
                        lat: 41.8333925,
                        lng: -88.0121478
                      },
                     zoom: 13
                   });
                   var locations = [
                   {title: 'Des Plaines', location: {lat: 42.0221834, lng: -87.9299155}},
                   {title: 'Lisle', location: {lat: 41.7894616, lng: -88.1188675}},
                   {title: 'Harwood Heights', location: {lat: 41.9655306, lng: -87.8118652}},
                   {title: 'Glen Ellyn', location: {lat: 41.8659181, lng: -88.0934054}},
                   {title: 'Lombard', location: {lat: 41.8733143, lng: -88.0894339}},
                   {title: 'Vernon Hills', location: {lat: 42.2351077, lng: -87.998117}},
                   {title: 'Chicago', location: {lat: 41.884104, lng: -87.6369619}},
                   ];
                   var largeInfowindow = new google.maps.InfoWindow();

                   var bounds = new google.maps.LatLngBounds();



              for (var i = 0; i < locations.length; i++) {
                //get position from array//
                var position = locations[i].location;
                var title = locations[i].title;
                var marker = new google.maps.Marker({
                  map: map, // Fixed this //
                  position: position,
                  title: title,
                  animation: google.maps.Animation.Drop,
                  id: [i]
                });

                //push marker to array for markers//
                markers.push(marker);

                //Create onclick event to open info window//
                marker.addListener('click', function(){
                  populateInfoWindow(this, largeInfowindow);
                });
                marker.addListener('mouseover', function(){
                  this.setIcon(hignlightedIcon);
                });
                marker.addListener('mouseout', function(){
                  this.setIcan(defaultIcon);
                });
              }
                document.getElementById('Show-Location').addEventListener('click', showLocation);
                document.getElementById('Hide-Location').addEventListener('click', hideLocation);

              }




            function populateInfoWindow(marker, infowindow){
              if (infowindow.marker != marker) {
                infowindow.marker =marker;
                infowindow.setContent('<div>' + marker.title +'</div>');
                infowindow.open(map, marker);
                infowindow.addListener('closeclick', function(){
                infowindow.setMarker(null);

                //function to loop through markers array and render to map//
                function showLocations() {
                 var bounds = new google.maps.LatLngBounds();
                  for (var i = 0; i < markers.length; i++) {
                   markers[i].setMap(map);
                   bounds.extend(markers[i].position);
                }
                   map.fitBounds(bounds);


                 function hideLocations() {
                   for (var i = 0; i < markers.length; i++) {
                     markers[i].setMap(null);
                   }
                 }
                }

                });
              }
            }





    // script to load map API//

          </script>
                <script async defer
              src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD6ZWHh5NID1cxD67I8FH43LLesybdua7c&v=3&callback=initMap">
            </script>





                <nav class="navbar navbar-default">
                    <div class="container-fluid">

                        <div class="navbar-header">
                            <button type="button" id="sidebarCollapse" class="navbar-btn">
                                <span></span>
                                <span></span>
                                <span></span>
                            </button>
                        </div>


                    </div>
                </nav>
<div id="map"></div>

    </div>
</div>





        <!-- jQuery CDN -->
         <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
         <!-- Bootstrap Js CDN -->
         <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

         <script type="text/javascript">
             $(document).ready(function () {
                 $('#sidebarCollapse').on('click', function () {
                     $('#sidebar').toggleClass('active');
                     $(this).toggleClass('active');
                 });
             });
         </script>
    </body>
</html>
